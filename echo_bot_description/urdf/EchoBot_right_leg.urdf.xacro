<?xml version="1.0"?>
<robot name="EchoBot" xmlns:xacro="http://ros.org/wiki/xacro">

  <!-- == Material == -->
  <material name="leg_color_0">
    <color rgba="0.3 0.3 0.3 1"/>
  </material>

  <!-- Link -->
  <link name="upper_leg_R">
    <visual>
      <origin rpy="0 0 0"/>
      <material name="leg_color_0"/>
      <geometry>
        <mesh filename="package://echo_bot_description/meshes/STL/upper_leg.stl"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://echo_bot_description/meshes/STL/upper_leg.stl"/>
      </geometry>      
    </collision>
    <inertial>
      <mass value="13.25" />
      <origin xyz="0.0 0.0 0.0" rpy="0 0 0" />
      <inertia ixx="0.2015" ixy="0.0" ixz="0.0" iyy="0.265" iyz="0.0" izz="0.2015" />
    </inertial>
  </link>
  <link name="lower_leg_R">
    <visual>
      <origin rpy="0 0 0"/>
      <material name="leg_color_0"/>
      <geometry>
        <mesh filename="package://echo_bot_description/meshes/STL/lower_leg.stl"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://echo_bot_description/meshes/STL/lower_leg.stl"/>
      </geometry>      
    </collision>
    <inertial>
      <mass value="13.25" />
      <origin xyz="0.0 0.0 0.0" rpy="0 0 0" />
      <inertia ixx="0.2015" ixy="0.0" ixz="0.0" iyy="0.265" iyz="0.0" izz="0.2015" />
    </inertial>
  </link>
  <link name="upper_side_leg_R">
    <visual>
      <origin rpy="0 0 0"/>
      <material name="leg_color_0"/>
      <geometry>
        <mesh filename="package://echo_bot_description/meshes/STL/upper_side_leg.stl"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://echo_bot_description/meshes/STL/upper_side_leg.stl"/>
      </geometry>      
    </collision>
    <inertial>
      <mass value="13.25" />
      <origin xyz="0.0 0.0 0.0" rpy="0 0 0" />
      <inertia ixx="0.2015" ixy="0.0" ixz="0.0" iyy="0.265" iyz="0.0" izz="0.2015" />
    </inertial>
  </link>
  <link name="TYRE_R">
    <visual>
      <origin rpy="0 0 0"/>
      <material name="leg_color_0"/>
      <geometry>
        <mesh filename="package://echo_bot_description/meshes/STL/tyre.stl"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://echo_bot_description/meshes/STL/tyre.stl"/>
      </geometry>      
    </collision>
    <inertial>
      <mass value="13.25" />
      <origin xyz="0.0 0.0 0.0" rpy="0 0 0" />
      <inertia ixx="0.2015" ixy="0.0" ixz="0.0" iyy="0.265" iyz="0.0" izz="0.2015" />
    </inertial>
  </link>


  <!-- Joint -->
  <joint name="upper_leg_R" type="revolute">
    <origin xyz="0.0 0.0475 0.0" rpy="0.0 ${M_PI*160/180} 0.0" />
    <parent link="Body" />
    <child link="upper_leg_R" />
    <axis xyz="0 1 0"/>
    <limit lower="0.0" upper="${-M_PI*30/180}" effort="0" velocity="0"/>
  </joint>
  <xacro:joint_velocity_trans_v0 name="upper_leg_R"/>
  <joint name="lower_leg_R" type="revolute">
    <origin xyz="0.1 0.0 0.0" rpy="0.0 ${-M_PI*144.47/180} 0.0" />
    <parent link="upper_leg_R" />
    <child link="lower_leg_R" />
    <axis xyz="0 1 0"/>
    <limit lower="0.0" upper="${M_PI*66.73/180}" effort="0" velocity="0"/>
    <mimic joint="upper_leg_R" multiplier="-2.186" offset="-0.02025"/>
  </joint>
  <joint name="upper_side_leg_R" type="revolute">
    <origin xyz="-0.025 0.0 0.0" rpy="0.0 ${-M_PI*54.22/180} 0.0" />
    <parent link="lower_leg_R" />
    <child link="upper_side_leg_R" />
    <axis xyz="0 1 0"/>
    <limit lower="0.0" upper="${-M_PI*64.73/180}" effort="0" velocity="0"/>
    <mimic joint="upper_leg_R" multiplier="2.123937" offset="0.003625"/>
  </joint>
  <joint name="TYRE_R" type="continuous">
    <origin xyz="0.1 0.0305 0.0" rpy="${-M_PI/2} 0.0 0.0" />
    <parent link="lower_leg_R" />
    <child link="TYRE_R" />
    <axis xyz="0 0 1"/>
  </joint>
  <xacro:joint_velocity_trans_v0 name="TYRE_R"/>

</robot>